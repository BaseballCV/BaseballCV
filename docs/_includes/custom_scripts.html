# docs/_includes/custom_scripts.html
<!-- Custom scripts for navigation, search, and other functionality -->
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() {
    // Add any custom script initializations here
    const sidebarCollapse = document.getElementById('sidebar-collapse');
    const mainContent = document.querySelector('.main-content');
    
    if (sidebarCollapse) {
      sidebarCollapse.addEventListener('click', function() {
        mainContent.classList.toggle('nav-open');
      });
    }

    // Initialize smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  });
</script>

<!-- Load MathJax if enabled -->
{% if site.math.engine == 'mathjax' %}
<script type="text/javascript">
  window.MathJax = {
    tex: {
      packages: ['base', 'ams']
    },
    options: {
      renderActions: {
        find: [10, function (doc) {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/);
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
            const text = document.createTextNode('');
            node.parentNode.replaceChild(text, node);
            math.start = {node: text, delim: '', n: 0};
            math.end = {node: text, delim: '', n: 0};
            doc.math.push(math);
          }
        }, '']
      }
    }
  };
</script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js">
</script>
{% endif %}

<!-- Load any additional custom scripts -->
{% if site.custom_scripts %}
  {% for script in site.custom_scripts %}
    <script type="text/javascript" src="{{ script | relative_url }}"></script>
  {% endfor %}
{% endif %}